{% load static %}
<html>

<head>
    <!-- Step 1 - Include the fusioncharts core library -->
    <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
    <!-- Step 2 - Include the fusion theme -->
    <script type="text/javascript"
        src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript"
        src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @page {
            size: 8.5in 12.5in;

            .page {
                page-break-after: always;
            }

            .header {
                height: 50px;
            }

            .header>div {
                position: fixed;
                top: 0;
            }

            .footer {
                height: 50px;
            }

            .footer>div {
                position: fixed;
                bottom: 0;
            }

            body {
                font-size: 30px;
                font-family: sans-serif;
            }
    </style>
    <style type="text/css">
        }

        body,
        p {
            font-family: arial;
            font-size: 8px;
        }

        p {
            margin: 0 0 3px;
        }

        table td,
        table th {
            padding: 2px;
            text-align: left;
        }

        @media print {
            p {
                margin: 0 0 3px;
            }

            table td,
            table th {
                padding: 5px;
                text-align: left;
            }
        }

        button {
            font-size: larger;
            box-sizing: border-box;
            padding: 10px;
        }

        .imm {
            background-image: url("../../static/images/p_img4.png");

        }

        .my-div {
            background-image: url('{% static "images/p_img4.png" %}');
            height: 50%;
            width: 80%;
            border: 2px solid red;
        }

        p {
            text-align: justify;
            font-size: 20px;
        }
    </style>
</head>

<body>
    <script>
        function printDiv(divName) {
            var printContents = document.getElementById(divName).innerHTML;
            var originalContents = document.body.innerHTML;

            document.body.innerHTML = printContents;

            window.print();

            document.body.innerHTML = originalContents;
        }
    </script>

    <div class="container"><button onclick="printDiv('printableArea')" value="print a div!">print</button></div>

    <div id="printableArea">
        <div class="col-md-12">
            <br>
            <br>
            <div id="hello" class="page" style="page-break-after: always">
                <table style="width: 100%;max-width: 1024px;margin: 0 auto; border-collapse: collapse;" width="100%">
                    <tr style="border-bottom:2px solid #eee;">
                        <td>
                            <table style="width: 100%;max-width: 1024px;margin: 0 auto;border-collapse: collapse;" width="100%">
                                            <tr>
                                              <td>
                                                <div class="" >
                                                  <center><h2><img src="{% static 'assets/images/nephromed_logo.jpg' %}" alt="logo Image" style="width:300px;height:100px;"></h2></center>

                                                </div>
                                              </td>
                                            </tr>
                                          </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table style="width: 100%;max-width: 1024px;margin: 0 auto;border-collapse: collapse;"
                                width="100%">
                                <tr>
                                    <td colspan="4" style="text-align:center;border-bottom: 1px solid #222;">
                                        <h3 style="margin: 0;">{{pending.service}} Report</h3>
                                    </td>
                                </tr>

                                <tr >
                                    <th style="width: 15%;">Patient Name</th>
                                    <td>:{{pending.uhid.first_name}} {{pending.uhid.middle_name}}
                                        {{pending.uhid.last_name}}</td>
                                    <th>Date</th>
                                    <td>:{{pending.uhid.age}} / {{pending.uhid.gender}}</td>
                                </tr>
                                <tr>
                                    <th style="width: 20%;">Age / Gender</th>
                                    <td>:{{pending.created_at}}</td>

                                </tr>
                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <table style="width: 100%;max-width: 1024px;margin: 0 auto; border-collapse: collapse;"
                                width="100%" id="example">
                                <tbody>
                                    <tr>
                                        <th style="border-top: 1px solid#333;  " colspan="4"> </th>
                                    </tr>

                                    <form method="post" id="form_id">
                                        {% csrf_token %}
                                <tbody>
                                    <tr>
                                        <td colspan="4" style="padding-top: 40px;">
                                            {{report.discerption|safe}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><b>Conclusion & recommendations:</b></td>
                                    </tr>
                                    <tr>
                                        <td colspan="4" style="padding-top: 20px; padding-bottom:60px;">
                                            <p>{{report.conclusion}}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <p><b>Gloria chipa</b></p>
                                            <p><b>registered clinical officer,</b></p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 30px;"></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <p><b>for and behalf of;</b></p>
                                            <p><b>NephroMed Limited,</b></p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 30px;"></td>
                                    </tr>

                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <!--  footrwe -->
                    <!-- <tr>
                        <td>
                            <table>
                                <tr>
                                    <td colspan="4" style="text-align: center;">
                                    <footer class="page-footer font-small blue fixed-bottom">
                                        <div class="row fixed-bottom">
                                            <div class="col-md-4">
                                                <p style="font-size: small;">info@nephromed.co.ke</p>
                                                <p style="font-size: small;">Nairobi: +254 737 787 8781 +254 792 787 878</p>
                                                <p style="font-size: small;">Mombasa: +245 708 787 878</p>
                                            </div>
                                            <div class="col-md-4">
                                                <p style="font-size: small;">NEPHROMED.LIMITED</p>
                                                <p style="font-size: small;">P.O.Box 13898-008000 Nairobi, Kenya</p>
                                                <p style="font-size: small;">2nd Floor, Williamson House, 4th Ngong Avenue,</p>
                                                <p style="font-size: small;">Nairobi</p>
                                            </div>
                                            <div class="col-md-4">
                                                <p style="font-size: small;">www.nephromed.co.ke</p>
                                            </div>
                                        </div>
                                </footer></td>

                                </tr>
                            </table>
                        </td>
                    </tr> -->
                </table>
                <br>
                <br>


            </div>
        </div>
    </div>

  <script>

	// get all the p tags in the document
	var pTags = document.getElementsByTagName("p");

	// loop through all p tags
	for (var i = 0; i < pTags.length; i++) {

	// check if the p tag is empty
	if (pTags[i].innerHTML.trim() === '') {

		// replace empty p tag with br tag
		var brTag = document.createElement("br");
		pTags[i].parentNode.insertBefore(brTag, pTags[i]);
		pTags[i].parentNode.removeChild(pTags[i]);
	}
}
  </script>
</body>

</html>